function internalStart(r){var e=r+"-"+START;labels[r]={start:e},performance.mark(e)}function internalEnd(r){var e=r+"-"+STOP;labels[r].stop=e,performance.mark(e)}function giveMeAllMarkers(){for(var r in labels){var e=labels[r],n=e.start,t=e.stop;try{performance.measure(r,n,t)}catch(r){throw new Error("JS Performance is trying access to marker that does not exist")}}for(var a=[],o=performance.getEntriesByType("measure"),i=Array.isArray(o),s=0,o=i?o:o[Symbol.iterator]();;){var u;if(i){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u;a.push(new Marker({name:c.name,duration:c.duration}))}return a}function clearMarkers(){labels={},performance.clearMarks(),performance.clearMeasures()}function recordingStart(){clearMarkers(),start=internalStart,stop=internalEnd}function recordingStop(){start=function(){},stop=function(){}}function getMeasures(){giveMeAllMarkers().map(function(r){return{"Operation name":r.name,"Duration (ms)":r.duration}})}function log(r){}function allowed(){return"undefined"!=typeof window}function precise(){return void 0!==window.performance}function support(){var r="";allowed()&&(r=precise()?"Your browser support the User Timing API. The measures will be precise!":"Your browser does not support the User Timing API. The measures will not be precise"),log(r)}function startRecording(){recordingStart()}function stopRecording(){recordingStop()}function allMeasures(){getMeasures()}function startMark(r){start(r)}function endMark(r){stop(r)}function checkSupport(){support()}var START="START",STOP="STOP",classCallCheck=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),Marker=function(){function r(e){var n=e.name,t=e.duration;classCallCheck(this,r),this.name=n,this.duration=t}return createClass(r,[{key:"info",get:function(){return{name:this.name,duratino:this.duration}},set:function(r){var e=r.name,n=r.duration;this.name=e,this.duration=n}}]),r}(),labels={},start=function(){},stop=function(){};export{startRecording,stopRecording,allMeasures,startMark,endMark,checkSupport};
