function internalStart(r){var n=r+"-"+START;labels[r]={start:n},performance.mark(n)}function internalEnd(r){var n=r+"-"+STOP;labels[r].stop=n,performance.mark(n)}function giveMeAllMarkers(){for(var r in labels){var n=labels[r],e=n.start,t=n.stop;try{performance.measure(r,e,t)}catch(r){throw new Error("JS Performance is trying access to marker that does not exist")}}for(var a=[],o=performance.getEntriesByType("measure"),i=Array.isArray(o),s=0,o=i?o:o[Symbol.iterator]();;){var c;if(i){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}var u=c;a.push(new Marker({name:u.name,duration:u.duration}))}return a}function clearMarkers(){labels={},performance.clearMarks(),performance.clearMeasures()}function recordingStart(){clearMarkers(),start=internalStart,stop=internalEnd}function recordingStop(){start=function(){},stop=function(){}}function getMeasures(){giveMeAllMarkers().map(function(r){return{"Operation name":r.name,"Duration (ms)":r.duration}})}function allowed(){return"undefined"!=typeof window}function precise(){return void 0!==window.performance}function support(){allowed()&&precise()}function startRecording(){recordingStart()}function stopRecording(){recordingStop()}function allMeasures(){getMeasures()}function startMark(r){start(r)}function endMark(r){stop(r)}function checkSupport(){return support()}var START="START",STOP="STOP",classCallCheck=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function r(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),Marker=function(){function r(n){var e=n.name,t=n.duration;classCallCheck(this,r),this.name=e,this.duration=t}return createClass(r,[{key:"info",get:function(){return{name:this.name,duratino:this.duration}},set:function(r){var n=r.name,e=r.duration;this.name=n,this.duration=e}}]),r}(),labels={},start=function(){},stop=function(){};export{startRecording,stopRecording,allMeasures,startMark,endMark,checkSupport};
